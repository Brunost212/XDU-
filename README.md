# XDU-2025æœ¬ç§‘æ¯•è®¾æºç é™æ€åˆ†æå·¥å…·
* XDU2025æœ¬ç§‘æ¯•è®¾åŸºäº Clang æ’ä»¶ + Qt æºç é™æ€åˆ†æå·¥å…·
* ä¸€ä¸ªåŸºäº **Clang æ’ä»¶ + Qt å‰ç«¯** çš„ C/C++ é™æ€è¯­ä¹‰åˆ†æå·¥å…·
* æ”¯æŒå˜é‡ä½¿ç”¨åˆ†æã€æŒ‡é’ˆç”Ÿå‘½å‘¨æœŸåˆ†æã€çº¿ç¨‹åˆ›å»ºåˆ†æç­‰ã€‚

---

## âœ¨ é¡¹ç›®ç®€ä»‹

æœ¬é¡¹ç›®åŸºäº **Clang AST/CFG** å’Œ **Qt C++** å®ç°ä¸€ä¸ªè·¨å¹³å°é™æ€åˆ†æå·¥å…·ï¼Œç”¨äºè‡ªåŠ¨åˆ†æ C/C++ æºä»£ç ä¸­çš„ï¼š

* å˜é‡ä½¿ç”¨æƒ…å†µï¼ˆåªå†™ä¸è¯» / åªè¯»ä¸å†™ / æœªä½¿ç”¨å˜é‡ï¼‰
* æŒ‡é’ˆç”Ÿå‘½å‘¨æœŸï¼ˆmalloc/new å¯¹åº”çš„é‡Šæ”¾ï¼Œæ‚¬æŒ‚æŒ‡é’ˆã€é‡å¤é‡Šæ”¾ç­‰ï¼‰
* å‡½æ•°è°ƒç”¨å…³ç³»
* äº’æ–¥é‡åŠ é”/è§£é”åŒ¹é…
* **çº¿ç¨‹åˆ›å»ºä¸çº¿ç¨‹å…¥å£å‡½æ•°è¯†åˆ«ï¼ˆstd::thread / pthread_createï¼‰**

æœ¬é¡¹ç›®åˆ†ä¸¤éƒ¨åˆ†ï¼š

1. **Clang External Pluginï¼ˆåç«¯ï¼‰**
   è´Ÿè´£è§£æé¡¹ç›®æºç ï¼Œç”Ÿæˆç»“æ„åŒ–åˆ†ææ–‡ä»¶ `analysis.json`ã€‚

2. **Qt å‰ç«¯ï¼ˆGUIï¼‰**
   è´Ÿè´£åŠ è½½ `analysis.json`ï¼Œæ„å»ºå†…éƒ¨æ¨¡å‹ï¼Œæ‰§è¡Œæ•°æ®æµåˆ†æï¼Œå¹¶ä»¥äº‹ä»¶æµä¸æ±‡æ€»è¡¨å±•ç¤ºç»“æœã€‚

---

## ğŸ›  é¡¹ç›®ç»“æ„

```
.
â”œâ”€â”€ clang_cfg_plugin/            # Clang æ’ä»¶ï¼šæå– AST/CFG å¹¶ç”Ÿæˆ analysis.json
â”‚   â”œâ”€â”€ CfgMapPlugin.cpp
â”‚   â””â”€â”€ CMakeLists.txt
â”‚
â”œâ”€â”€ src/                   # Qt ï¼šè§£æ JSON + æ•°æ®æµåˆ†æ + GUI å±•ç¤º
â”‚   â”œâ”€â”€ analysis/
â”‚   â”‚   â”œâ”€â”€ Analyzer.cpp
â”‚   â”‚   â”œâ”€â”€ Analyzer.h
â”‚   â”‚   â”œâ”€â”€ JsonModel.cpp
â”‚   â”‚   â””â”€â”€ JsonModel.h
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ main.cpp
â”‚   â”‚   â”œâ”€â”€ mainwindow.ui
â”‚   â”‚   â”œâ”€â”€ mainwindow.cpp
â”‚   â”‚   â””â”€â”€ mainwindow.h
â”‚   â”œâ”€â”€ io/
â”‚   â”‚   â”œâ”€â”€ ProjectScan.cpp
â”‚   â”‚   â”œâ”€â”€ ProjectScan.h
â”‚   â”‚   â”œâ”€â”€ Toolchain.cpp
â”‚   â”‚   â””â”€â”€ Toolchain.h
â”‚   â”œâ”€â”€ util/
â”‚   â”‚   â”œâ”€â”€ Log.cpp
â”‚   â”‚   â””â”€â”€ Log.h
â”‚
â”œâ”€â”€ examples/                # ç¤ºä¾‹æºç ï¼ˆç”¨äºæµ‹è¯•ï¼‰
â”‚   â””â”€â”€ test.cpp
â”‚
â””â”€â”€ README.md
```

## ğŸš€ ä½¿ç”¨æ–¹å¼

### 1. ç¼–è¯‘ Clang æ’ä»¶

ç¡®ä¿ç³»ç»Ÿå·²å®‰è£… LLVM/Clangï¼ˆ>= 12ï¼‰ï¼š

```bash
cd clang-plugin
mkdir build && cd build
cmake ..
make
```

ç”Ÿæˆï¼š

```
CfgMapPlugin.so
```

---

### 2. è¿è¡Œæ’ä»¶ç”Ÿæˆ analysis.json

ä¾‹å¦‚ï¼š

```bash
clang -Xclang -load -Xclang libCfgMapPlugin.so \
      -fsyntax-only test_threads.cpp \
      -o analysis.json
```

---

### 3. ç¼–è¯‘ Qt å‰ç«¯

ä½¿ç”¨ Qt Creator æˆ–ï¼š

```bash
cd ThreadAnalyzer
mkdir build && cd build
qmake ..
make
```

---

### 4. åŠ è½½ analysis.json

å¯åŠ¨ GUI â†’ æ‰“å¼€ analysis.json â†’ è‡ªåŠ¨å±•ç¤ºåˆ†æç»“æœã€‚

---
